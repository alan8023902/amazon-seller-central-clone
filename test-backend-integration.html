<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>åç«¯æ•°æ®é›†æˆæµ‹è¯•</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 20px;
            background-color: #f5f5f5;
        }
        .test-container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
        }
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 4px;
        }
        .success {
            background-color: #d4edda;
            color: #155724;
            border: 1px solid #c3e6cb;
        }
        .info {
            background-color: #d1ecf1;
            color: #0c5460;
            border: 1px solid #bee5eb;
        }
        .warning {
            background-color: #fff3cd;
            color: #856404;
            border: 1px solid #ffeaa7;
        }
        .test-link {
            display: inline-block;
            padding: 10px 20px;
            background-color: #007185;
            color: white;
            text-decoration: none;
            border-radius: 4px;
            margin: 10px 10px 10px 0;
        }
        .test-link:hover {
            background-color: #005f6b;
        }
        .service-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        .service-card {
            padding: 15px;
            border: 1px solid #ddd;
            border-radius: 8px;
            background-color: #f9f9f9;
        }
        .service-status {
            display: inline-block;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 12px;
            font-weight: bold;
        }
        .status-running {
            background-color: #d4edda;
            color: #155724;
        }
        .status-stopped {
            background-color: #f8d7da;
            color: #721c24;
        }
        .api-test {
            background-color: #f8f9fa;
            border: 1px solid #dee2e6;
            border-radius: 4px;
            padding: 10px;
            margin: 10px 0;
            font-family: monospace;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="test-container">
        <h1>ğŸ”— åç«¯æ•°æ®é›†æˆæµ‹è¯•</h1>
        
        <div class="status success">
            âœ… Dashboardé¡µé¢å·²é›†æˆåç«¯æ•°æ®ï¼Œä¿æŒåŸå§‹å¤–è§‚
        </div>

        <h2>ğŸ–¥ï¸ æœåŠ¡çŠ¶æ€</h2>
        <div class="service-grid">
            <div class="service-card">
                <h3>å‰ç«¯æœåŠ¡ (Frontend)</h3>
                <p><strong>ç«¯å£:</strong> 3000</p>
                <p><strong>çŠ¶æ€:</strong> <span class="service-status status-running">è¿è¡Œä¸­</span></p>
                <p><strong>åŠŸèƒ½:</strong> ç”¨æˆ·ç•Œé¢ï¼Œç°åœ¨ä»åç«¯è·å–æ•°æ®</p>
                <a href="http://localhost:3000/app/dashboard" class="test-link" target="_blank">
                    ğŸ”— è®¿é—®Dashboard
                </a>
            </div>
            
            <div class="service-card">
                <h3>åç«¯API (Backend)</h3>
                <p><strong>ç«¯å£:</strong> 3002</p>
                <p><strong>çŠ¶æ€:</strong> <span class="service-status status-running">è¿è¡Œä¸­</span></p>
                <p><strong>åŠŸèƒ½:</strong> æ•°æ®APIæœåŠ¡</p>
                <a href="http://localhost:3002/api/dashboard/snapshot/1" class="test-link" target="_blank">
                    ğŸ”— æµ‹è¯•API
                </a>
            </div>
            
            <div class="service-card">
                <h3>ç®¡ç†åå° (Admin)</h3>
                <p><strong>ç«¯å£:</strong> 3001</p>
                <p><strong>çŠ¶æ€:</strong> <span class="service-status status-running">è¿è¡Œä¸­</span></p>
                <p><strong>åŠŸèƒ½:</strong> æ•°æ®ç®¡ç†ç•Œé¢</p>
                <a href="http://localhost:3001" class="test-link" target="_blank">
                    ğŸ”— è®¿é—®ç®¡ç†åå°
                </a>
            </div>
        </div>

        <h2>ğŸ”„ æ•°æ®æµç¨‹</h2>
        <div class="status info">
            <strong>æ•°æ®æµå‘:</strong><br>
            1. ç®¡ç†åå° (3001) â†’ ä¿®æ”¹æ•°æ® â†’ åç«¯API (3002)<br>
            2. å‰ç«¯é¡µé¢ (3000) â†’ ä»åç«¯APIè·å–æ•°æ® â†’ æ˜¾ç¤ºåœ¨Dashboard<br>
            3. æ•°æ®å®æ—¶åŒæ­¥ï¼Œä¿®æ”¹ååˆ·æ–°å‰ç«¯é¡µé¢å³å¯çœ‹åˆ°å˜åŒ–
        </div>

        <h2>ğŸ§ª æµ‹è¯•æ­¥éª¤</h2>
        <ol>
            <li><strong>æŸ¥çœ‹å½“å‰æ•°æ®:</strong> è®¿é—®Dashboardé¡µé¢ï¼ŒæŸ¥çœ‹"Quick Stats"éƒ¨åˆ†çš„æ•°æ®</li>
            <li><strong>ä¿®æ”¹æ•°æ®:</strong> åœ¨ç®¡ç†åå°ç™»å½•å¹¶ä¿®æ”¹Dashboardé…ç½®</li>
            <li><strong>éªŒè¯æ›´æ–°:</strong> åˆ·æ–°Dashboardé¡µé¢ï¼Œç¡®è®¤æ•°æ®å·²æ›´æ–°</li>
        </ol>

        <h2>ğŸ“Š Dashboardé¡µé¢æ›´æ–°</h2>
        <div class="status warning">
            <strong>é¡µé¢ä¿æŒåŸå§‹å¤–è§‚ï¼Œä½†å¢åŠ äº†ä»¥ä¸‹åŠŸèƒ½:</strong><br>
            â€¢ âœ… ä»åç«¯APIè·å–å®æ—¶æ•°æ®<br>
            â€¢ âœ… æ˜¾ç¤ºé”€å”®é¢ã€è®¢å•æ•°ã€è¯„åˆ†ã€ä½™é¢ç­‰å…³é”®æŒ‡æ ‡<br>
            â€¢ âœ… é”™è¯¯å¤„ç†å’ŒåŠ è½½çŠ¶æ€<br>
            â€¢ âœ… æ•°æ®è·å–å¤±è´¥æ—¶ä½¿ç”¨é»˜è®¤æ•°æ®<br>
            â€¢ âœ… ä¿æŒç®€å•çš„å¡ç‰‡å¸ƒå±€é£æ ¼
        </div>

        <h2>ğŸ”§ APIæµ‹è¯•</h2>
        <div class="api-test">
            <strong>æµ‹è¯•APIç«¯ç‚¹:</strong><br>
            GET http://localhost:3002/api/dashboard/snapshot/1<br><br>
            <strong>é¢„æœŸå“åº”:</strong><br>
            {<br>
            &nbsp;&nbsp;"success": true,<br>
            &nbsp;&nbsp;"data": {<br>
            &nbsp;&nbsp;&nbsp;&nbsp;"sales": { "todaySoFar": 49.95, "currency": "$" },<br>
            &nbsp;&nbsp;&nbsp;&nbsp;"orders": { "totalCount": 6, ... },<br>
            &nbsp;&nbsp;&nbsp;&nbsp;...<br>
            &nbsp;&nbsp;}<br>
            }
        </div>

        <div class="status success">
            <strong>âœ… é›†æˆå®Œæˆ</strong><br>
            Dashboardé¡µé¢ç°åœ¨å¯ä»¥ä»åç«¯è·å–æ•°æ®ï¼ŒåŒæ—¶ä¿æŒåŸå§‹çš„ç®€å•å¤–è§‚ã€‚
            æ‚¨å¯ä»¥é€šè¿‡ç®¡ç†åå°ä¿®æ”¹æ•°æ®ï¼Œå‰ç«¯é¡µé¢ä¼šå®æ—¶åæ˜ è¿™äº›å˜åŒ–ã€‚
        </div>
    </div>

    <script>
        // æµ‹è¯•æ‰€æœ‰æœåŠ¡çš„å¯ç”¨æ€§
        async function testServices() {
            const services = [
                { name: 'Frontend', url: 'http://localhost:3000/app/dashboard' },
                { name: 'Backend API', url: 'http://localhost:3002/api/dashboard/snapshot/1' },
                { name: 'Admin Panel', url: 'http://localhost:3001' }
            ];

            for (const service of services) {
                try {
                    const response = await fetch(service.url);
                    if (response.ok) {
                        console.log(`âœ… ${service.name}: è¿è¡Œæ­£å¸¸`);
                    } else {
                        console.log(`âš ï¸ ${service.name}: å“åº”å¼‚å¸¸ (${response.status})`);
                    }
                } catch (error) {
                    console.log(`âŒ ${service.name}: æ— æ³•è¿æ¥`);
                }
            }
        }

        // é¡µé¢åŠ è½½æ—¶æµ‹è¯•æœåŠ¡
        testServices();
    </script>
</body>
</html>